\documentclass[a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[fleqn]{amsmath}
\usepackage{algorithmicx}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{amssymb}
\usepackage{pdfpages}
\usepackage{mathtools}
\usepackage{amsfonts}
\usepackage{epstopdf}
\usepackage{lastpage}
\usepackage{tikz}
\usepackage{float}
\usepackage{textcomp}
\usetikzlibrary{patterns}
\usepackage{pdfpages}
\usepackage{gauss}
\usepackage{fancyvrb}
\usepackage[table]{colortbl}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{caption}
\usepackage[margin=1in]{geometry}
\usepackage{subcaption}
\delimitershortfall-1sp
\newcommand\abs[1]{\left|#1\right|}

\definecolor{listinggray}{gray}{0.9}
\usepackage{listings}
\lstset{
	language=,
	literate=
		{æ}{{\ae}}1
		{ø}{{\o}}1
		{å}{{\aa}}1
		{Æ}{{\AE}}1
		{Ø}{{\O}}1
		{Å}{{\AA}}1,
	backgroundcolor=\color{listinggray},
	tabsize=2,
	rulecolor=,
	basicstyle=\scriptsize,
	upquote=true,
	aboveskip={0.2\baselineskip},
	columns=fixed,
	showstringspaces=false,
	extendedchars=true,
	breaklines=true,
	prebreak =\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
	frame=single,
	showtabs=false,
	showspaces=false,
	showlines=true,
	showstringspaces=false,
	identifierstyle=\ttfamily,
	keywordstyle=\color[rgb]{0,0,1},
	commentstyle=\color[rgb]{0.133,0.545,0.133},
	stringstyle=\color[rgb]{0.627,0.126,0.941},
  moredelim=**[is][\color{blue}]{@}{@},
}
\newcommand{\comment}[1]{%
  \text{\phantom{(#1)}} \tag{#1}}
\lstdefinestyle{base}{
  emptylines=1,
  breaklines=true,
  basicstyle=\ttfamily\color{black},
}

\pagestyle{fancy}
\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;}
\def\E{\mbox{\textbf{E}}}
\def\Pr{\mbox{\textbf{Pr}}}
\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
            \node[shape=circle,draw,inner sep=2pt] (char) {#1};}}
\newcommand*\squared[1]{%
  \tikz[baseline=(R.base)]\node[draw,rectangle,inner sep=0.5pt](R) {#1};\!}
\cfoot{Page \thepage\ of \pageref{LastPage}}
\DeclareGraphicsExtensions{.pdf,.png,.jpg,.eps}
\graphicspath{{image/}}
<<<<<<< HEAD
\lhead{RA}
\rhead{Data Stream Algs}
\begin{document}
Stream: \(\sigma = <a_1,a_2,...,a_m>\), token \(a_i \in U = [n]\).\\
Goal: process \(\sigma\) using space s st \(s<<m \wedge s << n\), \(s=O(\min(m,n))\), pref \(s=O(\log m + \log n)\).\\
Sometimes best \(s=polylog(\min(m,n))\), \(polylog = O((\log(g(n))^c)\) for \(c>0\).\\
Streams can only be access in sequence.\\
Multiplicative condition: Let \(A(\sigma)\) be random stram alg A on \(\sigma\): Let \(\phi\) be target function. A is an \(\epsilon,\delta\)-approx alg of \(\phi\) if
\[\Pr[|\frac{A(\sigma)}{\phi(\sigma)} -1 | > \epsilon] \leq \delta\]
To strong a condition when \(\phi(\sigma)\) has values close to zero.\\\\
Additive-approx:
\((\epsilon,\delta)\)-additative-approx-alg A of \(\phi\) if
\[\Pr[|A(\sigma) - \phi(\sigma)|] \leq \sigma\]
Often instrested in statistical properties of multiset in \(\sigma\). Let vector \(\vec{F} = (f_1,..f_n)^T\), \(f_j = |\{i:a_i = j\}|\). So \(\phi(\vec{F})\) target. \(\vec{F}\) frequency vector.\\
Turnstile model: \(\sigma: [n] \times \{-L,...,L\}\) so \(f_j \sum_{|\{i:a_i=j\}|} l_i\). Redefined m to max number tokens in multiset \(|\!|\vec{F}|\!|_1 \leq m\).\\
Strict turnstile model: \(\vec{F} \geq 0\)\\
Cash register model: \(\forall i.l_i > 0\)
\section{Frequency Problem}
Majority problem: if \(\exists j: f_j > m/2\), then output j else null.
Frequency problem: For some k, output \(\{j:f_j > m/k\}\)\\
Frequency-estimateion problem: For stream \(\sigma\) produce structure that can estimate \(\hat{f}_a\) for freq \(f_a\) for \(a \in [n]\).\\
Misra-Gries Alg: Takes param k (same as freq problem). Maintain associative array, fx bbt
\begin{verbatim}
Process j:
  If j in keys(A) then
    A[j] <- A[j]+1
  else if |keys(A)| < k -1 then
    A[j] <- 1
  else
    foreach l in keys(A)
      A[l] <- A[l] - 1
      if A[l] = 0 then remove l
  output: f^_a = A[a] if keys(a) else 0
\end{verbatim}
When \(A[j]\) decr then we decr k-1 other counters \(\Rightarrow\) decr witnessed (applied to) k tokens \(\Rightarrow \leq m/k\) decrs as \(|\sigma| = m\), therefore \(\hat{f}_j \leq f_j -  m/k\).\\
\textbf{Thrm} The Misra-Gries alg. with param k uses one pass and \(O(k(\log m+\log n))\) bits of space and fives estimate \(\hat{f}_j\) satisfying
\[\max(0,f_j - \frac{m}{k}) \leq \hat{f}_j \leq f_j\]
\end{document}
